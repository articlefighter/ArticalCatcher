(function(i){function e(e){var t=e[0];var r=e[1];var n=e[2];var a,o,c=0,u=[];for(;c<t.length;c++){o=t[c];l[o]&&u.push(l[o][0]);l[o]=0}for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a]);f&&f(e);while(u.length)u.shift()();p.push.apply(p,n||[]);return s()}function s(){var e;for(var t=0;t<p.length;t++){var r=p[t];var n=true;for(var a=1;a<r.length;a++){var o=r[a];0!==l[o]&&(n=false)}if(n){p.splice(t--,1);e=c(c.s=r[0])}}return e}var r={};var l={main:0};var p=[];function c(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:false,exports:{}};i[e].call(t.exports,t,t.exports,c);t.l=true;return t.exports}c.m=i;c.c=r;c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:r})};c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:true})};c.t=function(t,e){1&e&&(t=c(t));if(8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);c.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r};c.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};c.d(e,"a",e);return e};c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};c.p="http://localhost:3001";var t=window["webpackJsonp"]=window["webpackJsonp"]||[];var n=t.push.bind(t);t.push=e;t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var f=n;p.push([0,"vendor"]);return s()})({0:function(e,t,r){r("201c");e.exports=r("tjUo")},1:function(e,t){},"6b6B":function(e,t,r){},"81W9":function(e){e.exports={baseUrl:""}},EkHx:function(e,t,r){},FGWz:function(e,t,r){},FPUI:function(e,t,r){},Fbsw:function(e,t,r){},tjUo:function(e,t,r){"use strict";r.r(t);var n=r("q1tI");var s=r.n(n);var a=r("i8i4");var o=r.n(a);var c=r("FGWz");var u=r("/MKj");var i=function e(t){return{type:"search",url:t}};var l=r("6b6B");function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var f=function e(r,t){return{search:function e(t){r(i(t))},onSearch:t.onSearch}};var v=function(r){p(e,r);function e(e){var t;t=r.call(this,e)||this;t.state={value:""};return t}var t=e.prototype;t._search=function e(t){var r=this.props,n=r.onSearch,a=r.search;a(this.state.value);n(this.state.value)};t.handleKeydown=function e(t){13==t.keyCode&&this._search()};t.render=function e(){var r=this;var t=this.props,n=t.ContainerStyle,a=t.ButtonStyle,o=t.style,c=t.placeholder;return s.a.createElement("div",{className:"container",style:n},s.a.createElement("input",{className:"input",style:o,placeholder:c,value:this.state.value,onChange:function e(t){r.setState({value:t.target.value})},onKeyDown:function e(t){r.handleKeydown(t)}}),s.a.createElement(b,{className:"button",style:a,onClick:function e(t){r._search(t)}},"Search"))};return e}(n["Component"]);var h=Object(u["b"])(void 0,f)(v);function d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var m=function(e){d(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r._search=function e(t){var r=this.props.onSearch;r(t);fetch(t).then(function(e){void 0}).catch(function(e){void 0})};r.render=function e(){return s.a.createElement("header",null,s.a.createElement("div",null,s.a.createElement(h,{placeholder:"支持网站：知乎、掘金、InfoQ、简书",onSearch:function e(t){void 0;_this._search(t)}})))};return t}(n["Component"]);function y(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var b=function(e){y(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r._click=function e(t){var r=this.props.onClick;r&&r(t)};r.render=function e(){var r=this;var t=this.props,n=t.className,a=t.ButtonStyle,o=t.children,c=t.onClick,u=t.type;var i="btn-"+u;return s.a.createElement("div",null,s.a.createElement("button",{className:i+" "+n,style:a,onClick:function e(t){r._click(t)}},o))};return t}(n["Component"]);var w=r("Fbsw");function g(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var _=function(e){g(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.render=function e(){return s.a.createElement("div",{className:"recent"})};return t}(n["Component"]);var x=r("FPUI");function k(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var j=function(e){k(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.render=function e(){return s.a.createElement("div",{className:"topboard"})};return t}(n["Component"]);var E=r("i69e");var O=r("EkHx");function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}function R(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var T=r("SW5E");var P=T.gfm;var N=T.tables;var F=T.strikethrough;var U=new E["a"];U.use(P);U.use([N,F]);var B=function e(t,r){return{url:t.search_url,article:r.article}};var I=function(a){S(e,a);function e(){var e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e=a.call.apply(a,[this].concat(r))||this;R(C(e),"state",{markdown:false});R(C(e),"_downloadFile",function(e,t){var r=document.createElement("a");r.download=t;r.style.display="none";var n=new Blob([e]);r.href=URL.createObjectURL(n);document.body.appendChild(r);r.click();document.body.removeChild(r)});return e}var t=e.prototype;t.shouldComponentUpdate=function e(t,r){return true};t.click=function e(t){var r=this.props.article;if(r){var n=U.turndown(r);var a=document.getElementsByTagName("h1");var o="";if(a.length){o=a[0].innerText;o=o.trim()+".md"}void 0;this._downloadFile(n,o)}};t.render=function e(){var t=this;var r=this.props.article;var n=this.props.article?s.a.createElement("div",{id:"D-article",className:"article",dangerouslySetInnerHTML:{__html:r}}):s.a.createElement("p",{className:"holder-text"},"截取网站文章，转成 markdown 文件，支持网站：Segmentfault");return s.a.createElement("div",{className:"article-container"},n,this.props.article&&s.a.createElement("div",{style:{marginTop:"12px"}},s.a.createElement(b,{type:"default",onClick:function e(){t.click()}},"Markdown 下载")))};return e}(n["Component"]);var M=Object(u["b"])(B)(I);var H=r("81W9");function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return G.apply(this,arguments)}function W(e,t,r,n,a,o,c){try{var u=e[o](c);var i=u.value}catch(e){r(e);return}u.done?t(i):Promise.resolve(i).then(n,a)}function A(u){return function(){var e=this,c=arguments;return new Promise(function(t,r){var n=u.apply(e,c);function a(e){W(n,t,r,a,o,"next",e)}function o(e){W(n,t,r,a,o,"throw",e)}a(void 0)})}}var D=H.baseUrl||"";var K={method:"GET",mode:"no-cors",credentials:"include"};var L={"Content-Type":"application/json"};var z=function(){var r=A(regeneratorRuntime.mark(function e(r){var n,a;return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:if(!(r&&r.ok)){t.next=19;break}a=r.headers.get("Content-Type");if(!a.match(/text\/(plain|html)/)){t.next=6;break}t.next=5;return r.text();case 5:n=t.sent;case 6:if(!a.match(/application\/json/)){t.next=10;break}t.next=9;return r.json();case 9:n=t.sent;case 10:if(!a.match(/form/)){t.next=14;break}t.next=13;return r.formData();case 13:n=t.sent;case 14:if(!a.match(/video/)){t.next=18;break}t.next=17;return r.blob();case 17:n=t.sent;case 18:return t.abrupt("return",{status:1,statusText:"success",data:n,originResponse:r});case 19:return t.abrupt("return",{status:0,statusText:"fail",originResponse:r});case 20:case"end":return t.stop()}},e)}));return function e(t){return r.apply(this,arguments)}}();var J=function(){var o=A(regeneratorRuntime.mark(function e(r,n,a,o){var c,u,i;return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:void 0===n&&(n={});void 0===a&&(a={});c="";for(u in n)c+=u+"="+encodeURIComponent(n[u]);c&&(r=r+"?"+c);t.prev=5;t.next=8;return fetch(r,G({},o,{headers:a}));case 8:i=t.sent;t.next=11;return z(i);case 11:return t.abrupt("return",t.sent);case 14:t.prev=14;t.t0=t["catch"](5);return t.abrupt("return",{status:-1,statusText:"error",message:t.t0,originResponse:null});case 17:case"end":return t.stop()}},e,null,[[5,14]])}));return function e(t,r,n,a){return o.apply(this,arguments)}}();var q=function(){var o=A(regeneratorRuntime.mark(function e(r,n,a,o){var c,u,i,s;return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:void 0===n&&(n={});void 0===a&&(a=new Headers);c=a.get("Content-Type");if(c.match(/application\/x-www-form-urlencoded/)){u=new FormData;for(i in n)u.append(i,n[i]);n=u}t.prev=4;t.next=7;return fetch(r,G({},o,{headers:a,body:n}));case 7:s=t.sent;t.next=10;return z(s);case 10:return t.abrupt("return",t.sent);case 13:t.prev=13;t.t0=t["catch"](4);return t.abrupt("return",{status:-1,statusText:"error",message:t.t0,originResponse:null});case 16:case"end":return t.stop()}},e,null,[[4,13]])}));return function e(t,r,n,a){return o.apply(this,arguments)}}();var Q=function(){var n=A(regeneratorRuntime.mark(function e(r,n){var a,o,c,u,i;return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:void 0===n&&(n={});r=D+r||"";c="GET";u=Object.assign({},K);t.t0=regeneratorRuntime.keys(n);case 5:if((t.t1=t.t0()).done){t.next=20;break}i=t.t1.value;t.t2=i;t.next="headers"===t.t2?10:"data"===t.t2?12:"method"===t.t2?14:16;break;case 10:a=new Headers(Object.assign({},L,n.headers));return t.abrupt("break",18);case 12:"object"===typeof n.data&&(o=n.data);return t.abrupt("break",18);case 14:c=n.method;return t.abrupt("break",18);case 16:u[i]=n[i];return t.abrupt("break",18);case 18:t.next=5;break;case 20:if(!("GET"===c)){t.next=24;break}t.next=23;return J(r,o,a,u);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},e)}));return function e(t,r){return n.apply(this,arguments)}}();var V=Q;function X(e,t,r,n,a,o,c){try{var u=e[o](c);var i=u.value}catch(e){r(e);return}u.done?t(i):Promise.resolve(i).then(n,a)}function Y(u){return function(){var e=this,c=arguments;return new Promise(function(t,r){var n=u.apply(e,c);function a(e){X(n,t,r,a,o,"next",e)}function o(e){X(n,t,r,a,o,"throw",e)}a(void 0)})}}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}function ee(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var te=function(a){$(e,a);function e(){var e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e=a.call.apply(a,[this].concat(r))||this;ee(Z(e),"state",{article:""});return e}var t=e.prototype;t.onSearch=function(){var t=Y(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:void 0;t.next=3;return V("/getArticle?url="+r);case 3:n=t.sent;1===n.status&&n.data&&this.setState({article:n.data});case 5:case"end":return t.stop()}},e,this)}));function e(e){return t.apply(this,arguments)}return e}();t.render=function e(){var r=this;void 0;return s.a.createElement(n["Fragment"],null,s.a.createElement("div",{className:"main"},s.a.createElement(h,{placeholder:"请输入文章链接",onSearch:function e(t){r.onSearch(t)}}),s.a.createElement("div",{className:"main-left"},s.a.createElement(M,{article:this.state.article}))))};return e}(n["Component"]);var re=r("ANjH");var ne=function e(t,r){void 0===t&&(t="");if("search"===r.type)return r.url;return t};var ae=Object(re["b"])({search_url:ne});var oe=Object(re["c"])(ae);setTimeout(function(){o.a.render(s.a.createElement(u["a"],{store:oe},s.a.createElement(te,null)),document.getElementById("root"))},3e3)}});